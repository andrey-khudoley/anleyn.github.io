---
layout: default
title:  "Установка OpenVPN на CentOS 9 Stream"
date:   2023-11-18 16:00:00 +0300
categories: VPS
---

Подробная инструкция по установке OpenVPN-сервера для маскарадинга трафика

## Подготовка сервера

### Меняем пароль рута

```sh
passwd root
```

### Создаём пользователя

```sh
useradd anley
passwd anley
usermod -aG wheel anley
```

### Устанавливаем вспомогательные программы

```sh
dnf check-update
dnf upgrade -y
dnf install -y epel-release
dnf install -y screen vim nftables
```

### Останавливаем стандартный файерволл

```sh
systemctl stop firewalld
systemctl disable firewalld
```

### Редактируем конфигурацию ssh
*  Запрещаем вход под рутом;
*  Меняем порт SSH на 22323;
*  Увеличиваем сессионное окно до 8 часов.

```sh
vim /etc/ssh/sshd_config
```
```txt
Port 22323
PermitRootLogin no
ClientAliveInterval 1800
ClientAliveCountMax 16
```
```sh
systemctl restart sshd
```